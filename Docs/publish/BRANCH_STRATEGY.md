# üåø –°—Ç—Ä–∞—Ç–µ–≥–∏—è –≤–µ—Ç–æ–∫ –¥–ª—è AdygGIS

## üìã –û–±–∑–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –≤–µ—Ç–æ–∫ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ä–µ–ª–∏–∑–æ–≤:

```
main (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞) ‚Üí release (–ø—Ä–æ–≤–µ—Ä–∫–∏) ‚Üí —Ç–µ–≥–∏ (—Ä–µ–ª–∏–∑—ã)
```

## üîÑ Workflow –ø—Ä–æ—Ü–µ—Å—Å—ã

### üöÄ **main** - –û—Å–Ω–æ–≤–Ω–∞—è –≤–µ—Ç–∫–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã, –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **–î–µ–π—Å—Ç–≤–∏—è:** –°–≤–æ–±–æ–¥–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- **CI/CD:** –ù–∏–∫–∞–∫–∏—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
- **–§–∏–ª–æ—Å–æ—Ñ–∏—è:** "–ë—ã—Å—Ç—Ä–æ –∏—Ç–µ—Ä–∏—Ä—É–µ–º, –Ω–µ —Ç–æ—Ä–º–æ–∑–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É"

### üîç **release** - –í–µ—Ç–∫–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ —Ä–µ–ª–∏–∑—É  
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º
- **–î–µ–π—Å—Ç–≤–∏—è:** Merge –∏–∑ main –∫–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –≥–æ—Ç–æ–≤—ã
- **CI/CD:** –ü–æ–ª–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (Build Check workflow)
- **–§–∏–ª–æ—Å–æ—Ñ–∏—è:** "–£–±–µ–∂–¥–∞–µ–º—Å—è —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º"

### üè∑Ô∏è **–¢–µ–≥–∏** - –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–ª–∏–∑—ã
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°—Ç–∞–±–∏–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–î–µ–π—Å—Ç–≤–∏—è:** –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–≥–æ–≤ —Å release –≤–µ—Ç–∫–∏
- **CI/CD:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ APK/AAB (Release workflow)
- **–§–∏–ª–æ—Å–æ—Ñ–∏—è:** "–ì–æ—Ç–æ–≤—ã–µ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤–µ—Ä—Å–∏–∏"

---

## üõ†Ô∏è –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

```bash
# 1. –†–∞–±–æ—Ç–∞–µ—Ç–µ –≤ main (–Ω–∏–∫–∞–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫)
git checkout main
git add .
git commit -m "Add new search feature"
git push origin main  # ‚Üê –ù–∏–∫–∞–∫–∏—Ö workflow –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

# 2. –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É
git commit -m "Fix search bug"
git push origin main  # ‚Üê –°–Ω–æ–≤–∞ –Ω–∏–∫–∞–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫

# 3. –§—É–Ω–∫—Ü–∏—è –≥–æ—Ç–æ–≤–∞? –ü–µ—Ä–µ–Ω–æ—Å–∏–º –≤ release
git checkout release
git merge main
git push origin release  # ‚Üê –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è Build Check üîç
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ–ª–∏–∑–∞

```bash
# 1. –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≥–æ—Ç–æ–≤—ã –≤ main
git checkout main
git commit -m "Final touches for v1.0.1"

# 2. –ü–µ—Ä–µ–Ω–æ—Å–∏–º –≤ release –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
git checkout release
git merge main
git push origin release  # ‚Üê Build Check –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å—ë

# 3. –ï—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—à–ª–∏ - —Å–æ–∑–¥–∞—ë–º —Ä–µ–ª–∏–∑
git tag v1.0.1
git push origin v1.0.1  # ‚Üê Release Build —Å–æ–∑–¥–∞—ë—Ç APK/AAB üöÄ
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: Hotfix –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–∏

```bash
# 1. –ë—ã—Å—Ç—Ä—ã–π —Ñ–∏–∫—Å –≤ main
git checkout main
git commit -m "üî• Fix critical crash"
git push origin main

# 2. –°—Ä–æ—á–Ω–æ –≤ release
git checkout release  
git merge main
git push origin release  # ‚Üê –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —Ñ–∏–∫—Å —Ä–∞–±–æ—Ç–∞–µ—Ç

# 3. –°—Ä–æ—á–Ω—ã–π —Ä–µ–ª–∏–∑
git tag v1.0.2
git push origin v1.0.2  # ‚Üê –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ CI/CD

### üîç Build Check Workflow
```yaml
# –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è release –≤–µ—Ç–∫–∏
on:
  push:
    branches: [ release ]
  pull_request:
    branches: [ release ]
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- ‚úÖ –ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ Lint –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ Unit —Ç–µ—Å—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ Debug APK —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è

### üöÄ Release Build Workflow  
```yaml
# –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–µ–≥–æ–≤
on:
  push:
    tags: [ 'v*.*.*' ]
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- üîê –†–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç keystore
- üì¶ –°–æ–±–∏—Ä–∞–µ—Ç production APK
- üì± –°–æ–±–∏—Ä–∞–µ—Ç AAB –¥–ª—è Google Play
- üéâ –°–æ–∑–¥–∞—ë—Ç GitHub Release
- üìé –ü—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç —Ñ–∞–π–ª—ã

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

### ‚úÖ –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
- **–ë—ã—Å—Ç—Ä—ã–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏** - –Ω–∏–∫–∞–∫–∏—Ö –∑–∞–¥–µ—Ä–∂–µ–∫ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏
- **–°–≤–æ–±–æ–¥–∞ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤** - –º–æ–∂–Ω–æ –ø—É—à–∏—Ç—å –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–π –∫–æ–¥
- **–ù–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫** - CI –Ω–µ –º–µ—à–∞–µ—Ç —Ç–≤–æ—Ä—á–µ—Å–∫–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É
- **–§–æ–∫—É—Å –Ω–∞ –∫–æ–¥–µ** - –Ω–µ –æ—Ç–≤–ª–µ–∫–∞–µ–º—Å—è –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏

### ‚úÖ –î–ª—è –∫–∞—á–µ—Å—Ç–≤–∞:
- **–ü—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º** - –≤—Å—ë —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –≤ release
- **–°—Ç–∞–±–∏–ª—å–Ω—ã–µ —Ä–µ–ª–∏–∑—ã** - —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –∫–æ–¥ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —Ç–µ–≥–∏
- **–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π –ø—Ä–æ—Ü–µ—Å—Å** - –æ—Å–æ–∑–Ω–∞–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ main ‚Üí release ‚Üí tag
- **–û—Ç–∫–∞—Ç –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö** - –º–æ–∂–Ω–æ –Ω–µ –º–µ—Ä–∂–∏—Ç—å –≤ release –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–Ω–æ

### ‚úÖ –î–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
- **–≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤** - CI –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ
- **–ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞** - –Ω–µ—Ç –æ–∂–∏–¥–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∫–æ–º–º–∏—Ç–µ
- **–¶–µ–ª–µ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏** - —Ç–µ—Å—Ç–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –Ω–∞ —Ä–µ–ª–∏–∑

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ:
- [ ] –†–∞–±–æ—Ç–∞—é –≤ `main` –≤–µ—Ç–∫–µ
- [ ] –ö–æ–º–º–∏—á—É –∏ –ø—É—à—É —Å–≤–æ–±–æ–¥–Ω–æ
- [ ] –ù–µ –∂–¥—É –Ω–∏–∫–∞–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
- [ ] –§–æ–∫—É—Å–∏—Ä—É—é—Å—å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –ü—Ä–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ —Ä–µ–ª–∏–∑–∞:
- [ ] –ú–µ—Ä–∂—É `main` –≤ `release`
- [ ] –ñ–¥—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Build Check
- [ ] –ü—Ä–æ–≤–µ—Ä—è—é —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏
- [ ] –ò—Å–ø—Ä–∞–≤–ª—è—é –ø—Ä–æ–±–ª–µ–º—ã –µ—Å–ª–∏ –µ—Å—Ç—å

### –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–µ–ª–∏–∑–∞:
- [ ] –û–±–Ω–æ–≤–ª—è—é –≤–µ—Ä—Å–∏—é –≤ `build.gradle.kts`
- [ ] –°–æ–∑–¥–∞—é —Ç–µ–≥ —Å `release` –≤–µ—Ç–∫–∏
- [ ] –ñ–¥—É —Å–æ–∑–¥–∞–Ω–∏—è GitHub Release
- [ ] –°–∫–∞—á–∏–≤–∞—é AAB –¥–ª—è Google Play

---

## üîÑ –î–∏–∞–≥—Ä–∞–º–º–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞

```mermaid
graph TD
    A[–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤ main] --> B{–§—É–Ω–∫—Ü–∏—è –≥–æ—Ç–æ–≤–∞?}
    B -->|–ù–µ—Ç| A
    B -->|–î–∞| C[Merge main ‚Üí release]
    C --> D[Build Check –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è]
    D --> E{–ü—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—à–ª–∏?}
    E -->|–ù–µ—Ç| F[–ò—Å–ø—Ä–∞–≤–ª—è–µ–º –≤ main]
    F --> C
    E -->|–î–∞| G[–°–æ–∑–¥–∞—ë–º —Ç–µ–≥]
    G --> H[Release Build –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è]
    H --> I[üéâ –ì–æ—Ç–æ–≤—ã–π —Ä–µ–ª–∏–∑!]
```

---

## üí° –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### üöÄ –î–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
# –ê–ª–∏–∞—Å –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∫–æ–º–º–∏—Ç–æ–≤ –≤ main
git config alias.quick '!git add . && git commit -m "WIP: quick changes" && git push origin main'

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
git quick  # –ë—ã—Å—Ç—Ä—ã–π –∫–æ–º–º–∏—Ç –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–æ–∫
```

### üîç –î–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Ä–µ–ª–∏–∑–∞:
```bash
# –ê–ª–∏–∞—Å –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Ä–µ–ª–∏–∑–∞
git config alias.prepare-release '!git checkout release && git merge main && git push origin release'

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
git prepare-release  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–µ—Ä–∂–∏—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
```

### üè∑Ô∏è –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–ª–∏–∑–∞:
```bash
# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–ª–∏–∑–∞
function New-Release {
    param($version)
    git tag "v$version"
    git push origin "v$version"
    Write-Host "Release v$version created! Check GitHub Actions." -ForegroundColor Green
}

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
New-Release "1.0.1"  # –°–æ–∑–¥–∞—ë—Ç —Ä–µ–ª–∏–∑ v1.0.1
```

**üéâ –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è: –±—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ + –Ω–∞–¥—ë–∂–Ω—ã–µ —Ä–µ–ª–∏–∑—ã!**
