# üîí –ü–ª–∞–Ω –∂–µ—Å—Ç–∫–æ–π –ø—Ä–∏–≤—è–∑–∫–∏ –º–∞—Ä–∫–µ—Ä–æ–≤ –∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º

**–î–∞—Ç–∞:** 2025-09-24  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–∞—Ä–∫–µ—Ä—ã "–ø–ª–∞–≤–∞—é—Ç" –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –∫–∞—Ä—Ç—ã, –Ω–µ —Å–ª–µ–¥—É—é—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –∑–∞ —Ç–æ—á–∫–∞–º–∏  
**–¶–µ–ª—å:** –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–∞—Ä–∫–µ—Ä–æ–≤ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫

## üîç –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–∏—Ö –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–∏—á–∏–Ω—ã "–ø–ª–∞–≤–∞–Ω–∏—è":
1. **Debounce 100ms** - –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –ø–æ–∑–∏—Ü–∏–π
2. **–ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π 300ms** - –ø–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ
3. **Camera listener** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –ø—Ä–∏—Ä–æ–¥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
4. **Compose recomposition** - –∑–∞–¥–µ—Ä–∂–∫–∏ –ø—Ä–∏ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–µ

## ‚úÖ –†–µ—à–µ–Ω–∏—è –¥–ª—è –∂–µ—Å—Ç–∫–æ–π –ø—Ä–∏–≤—è–∑–∫–∏

### 1. –£–±—Ä–∞—Ç—å –≤—Å–µ –∑–∞–¥–µ—Ä–∂–∫–∏
- ‚ùå –£–¥–∞–ª–∏—Ç—å debounce (100ms delay)
- ‚ùå –£–¥–∞–ª–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –ø–æ–∑–∏—Ü–∏–π –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –∫–∞–º–µ—Ä—ã
- ‚úÖ –û—Å—Ç–∞–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ—è–≤–ª–µ–Ω–∏–∏

### 2. –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `update` callback AndroidView
- –û–±–Ω–æ–≤–ª—è—Ç—å –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ –∫–∞–∂–¥–æ–º –∫–∞–¥—Ä–µ
- –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ MapView –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫

### 3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `derivedStateOf` –¥–ª—è –ø–æ–∑–∏—Ü–∏–π
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å recomposition
- –ö–µ—à–∏—Ä–æ–≤–∞—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

## üìã –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –®–∞–≥ 1: –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å MarkerOverlay
- –£–±—Ä–∞—Ç—å debounce –∏–∑ camera listener
- –£–±—Ä–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –ø–æ–∑–∏—Ü–∏–π –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä—è–º–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ update

### –®–∞–≥ 2: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å MapCoordinateConverter
- –î–æ–±–∞–≤–∏—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è

### –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç—å MapScreen
- –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å mapView –Ω–∞–ø—Ä—è–º—É—é –≤ overlay
- –û–±–Ω–æ–≤–ª—è—Ç—å –Ω–∞ –∫–∞–∂–¥–æ–º frame —á–µ—Ä–µ–∑ update

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- **0ms –∑–∞–¥–µ—Ä–∂–∫–∞** –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –∫–∞—Ä—Ç—ã
- **–ñ–µ—Å—Ç–∫–∞—è –ø—Ä–∏–≤—è–∑–∫–∞** –∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º
- **–ü–ª–∞–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞** –±–µ–∑ "–ø–ª–∞–≤–∞–Ω–∏—è"
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏** –∏ –∞–Ω–∏–º–∞—Ü–∏–π –∫–Ω–æ–ø–æ–∫
