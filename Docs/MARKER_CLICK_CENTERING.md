# –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –º–∞—Ä–∫–µ—Ä

## –ò–∑–º–µ–Ω–µ–Ω–∏–µ
–î–æ–±–∞–≤–ª–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã —Å —Å–º–µ—â–µ–Ω–∏–µ–º –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –ª—é–±–æ–π –º–∞—Ä–∫–µ—Ä –Ω–∞ –∫–∞—Ä—Ç–µ, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø–æ–≤–µ–¥–µ–Ω–∏—é –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –∏–∑ —Å–ø–∏—Å–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π MapViewModel.onMarkerClick():
```kotlin
fun onMarkerClick(attraction: Attraction, mapView: com.yandex.mapkit.mapview.MapView?) {
    Timber.d("‚úÖ Marker clicked via overlay: ${attraction.name}")
    
    // Center map on clicked attraction with same offset as selection from panel
    centerMapOnAttraction(attraction, mapView)
    
    // Then show bottom sheet
    selectAttraction(attraction)
}
```

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
```kotlin
// DualLayerMarkerSystem
onMarkerClick: (Attraction, MapView?) -> Unit

// MarkerOverlay  
onMarkerClick: (Attraction, MapView?) -> Unit

// TransparentClickOverlay
onMarkerClick: (Attraction, MapView?) -> Unit
```

### –ü–µ—Ä–µ–¥–∞—á–∞ mapView –≤ MapScreen:
```kotlin
onMarkerClick = { attraction ->
    Timber.d("üéØ DUAL-LAYER SYSTEM: Clicked ${attraction.name}")
    viewModel.onMarkerClick(attraction, mapView)
}
```

## –ü–æ–≤–µ–¥–µ–Ω–∏–µ

### –î–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
1. –ö–ª–∏–∫ –Ω–∞ –º–∞—Ä–∫–µ—Ä ‚Üí –æ—Ç–∫—Ä—ã—Ç–∏–µ BottomSheet
2. –ö–∞—Ä—Ç–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏
3. –ú–∞—Ä–∫–µ—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ —ç–∫—Ä–∞–Ω–∞

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
1. –ö–ª–∏–∫ –Ω–∞ –º–∞—Ä–∫–µ—Ä ‚Üí —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Å–º–µ—â–µ–Ω–∏–µ–º
2. –ú–∞—Ä–∫–µ—Ä –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞ (—Å–º–µ—â–µ–Ω–∏–µ 100–º)
3. –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è 1 —Å–µ–∫—É–Ω–¥–∞
4. –û—Ç–∫—Ä—ã—Ç–∏–µ BottomSheet

## –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏—è

–¢–µ–ø–µ—Ä—å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö —Å–ø–æ—Å–æ–±–æ–≤ –≤—ã–±–æ—Ä–∞ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

‚úÖ **–ö–ª–∏–∫ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É –≤ –ø–∞–Ω–µ–ª–∏ –ø–æ–∏—Å–∫–∞** ‚Üí —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ + BottomSheet  
‚úÖ **–ö–ª–∏–∫ –Ω–∞ –º–∞—Ä–∫–µ—Ä –Ω–∞ –∫–∞—Ä—Ç–µ** ‚Üí —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ + BottomSheet  
‚úÖ **–í—ã–±–æ—Ä –∏–∑ —Å–ø–∏—Å–∫–∞** ‚Üí —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ + BottomSheet  

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è

- **–°–º–µ—â–µ–Ω–∏–µ**: 100 –º–µ—Ç—Ä–æ–≤ –≤–Ω–∏–∑ (`latOffset = 0.001`)
- **–ó—É–º**: 17.0f –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- **–ê–Ω–∏–º–∞—Ü–∏—è**: –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è 1 —Å–µ–∫—É–Ω–¥–∞
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ú–∞—Ä–∫–µ—Ä –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π UX** - –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤–æ –≤—Å–µ—Ö —Å–ª—É—á–∞—è—Ö  
‚úÖ **–õ—É—á—à–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å** - –º–∞—Ä–∫–µ—Ä –≤—Å–µ–≥–¥–∞ –≤ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏  
‚úÖ **–ö–æ–Ω—Ç–µ–∫—Å—Ç –æ–∫—Ä—É–∂–µ–Ω–∏—è** - –≤–∏–¥–Ω–∞ –æ–±–ª–∞—Å—Ç—å –≤–æ–∫—Ä—É–≥ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏  
‚úÖ **–£–¥–æ–±—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞** - –º–∞—Ä–∫–µ—Ä –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç—Å—è UI —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏  

–¢–µ–ø–µ—Ä—å –∫–ª–∏–∫ –Ω–∞ –ª—é–±–æ–π –º–∞—Ä–∫–µ—Ä –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞!
