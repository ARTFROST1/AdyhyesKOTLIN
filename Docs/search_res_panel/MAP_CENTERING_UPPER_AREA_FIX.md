# Исправление центрирования карты для верхней области

## Проблема
При центрировании карты на результатах поиска маркеры располагались по всему экрану, включая область, закрытую панелью результатов снизу.

## Решение
Смещение центра карты вниз, чтобы все маркеры были видны в верхней части экрана.

## Реализация

### Для одного результата:
```kotlin
// Offset the center down so the attraction appears in upper part of screen
val latOffset = 0.005 // Move center down by ~500m to show attraction in upper area
val targetPoint = com.yandex.mapkit.geometry.Point(
    attraction.location.latitude - latOffset, // Move center DOWN
    attraction.location.longitude
)
```

**Логика:** Сдвигаем центр карты на 500м вниз, чтобы достопримечательность появилась в верхней части экрана.

### Для множественных результатов:
```kotlin
// Calculate center point and shift DOWN to show all points in upper area
val centerLat = (minLat + maxLat) / 2.0
val centerLon = (minLon + maxLon) / 2.0

// Shift center DOWN so all attractions appear in upper half of screen
val latSpanWithPadding = (maxLat - minLat) + latPadding * 2
val downwardShift = latSpanWithPadding * 0.25 // Shift center down by 25% of total span
val adjustedCenterLat = centerLat - downwardShift
```

**Логика:** 
1. Рассчитываем геометрический центр всех точек
2. Определяем общий размах с отступами
3. Сдвигаем центр вниз на 25% от общего размаха
4. Все маркеры оказываются в верхней части экрана

## Преимущества

### ✅ **Видимость всех результатов**
Все маркеры теперь видны в верхней части экрана, не закрытой панелью.

### ✅ **Адаптивное смещение**
- **Один результат**: фиксированное смещение 500м
- **Несколько результатов**: пропорциональное смещение (25% от размаха)

### ✅ **Сохранение контекста**
Маркеры остаются в оптимальном зуме для просмотра.

## Визуальный результат

### До исправления:
```
┌─────────────────┐
│     🏛️          │ ← Верхняя часть (видимая)
│        🏔️       │
├─────────────────┤
│ [Панель поиска] │ ← Нижняя часть (закрыта панелью)
│ [Результаты]    │
│ 🏖️      🎭      │ ← Маркеры не видны
└─────────────────┘
```

### После исправления:
```
┌─────────────────┐
│ 🏛️   🏔️   🏖️   │ ← Все маркеры в верхней части
│        🎭       │ ← Видимая область
├─────────────────┤
│ [Панель поиска] │ ← Панель не закрывает маркеры
│ [Результаты]    │
│                 │
└─────────────────┘
```

## Параметры настройки

- **Одиночный результат**: `latOffset = 0.005` (~500м)
- **Множественные результаты**: `downwardShift = 25%` от размаха
- **Отступы**: 30% по широте, 20% по долготе

Теперь все результаты поиска отлично видны в верхней части экрана!
