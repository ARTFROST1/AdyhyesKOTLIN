# üöÄ –°–±–æ—Ä–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ APK - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

**–î–∞—Ç–∞**: 30.09.2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ - –≥–æ—Ç–æ–≤–æ –∫ —Å–±–æ—Ä–∫–µ!

---

## ‚ö° –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

### –í–∞—Ä–∏–∞–Ω—Ç 1: –î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
# –ß–∏—Å—Ç–∞—è —Å–±–æ—Ä–∫–∞
./gradlew clean

# –°–æ–±—Ä–∞—Ç—å Full –≤–µ—Ä—Å–∏—é —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏
./gradlew assembleFullRelease
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö APK –≤ `app/build/outputs/apk/full/release/`

**–ì–ª–∞–≤–Ω—ã–π APK –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏**:
- `app-full-arm64-v8a-release.apk` (~4-5 MB) ‚≠ê **–î–ª—è 90% —É—Å—Ç—Ä–æ–π—Å—Ç–≤**

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –î–ª—è Google Play (‚≠ê –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)
```bash
./gradlew clean
./gradlew bundleFullRelease
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: `app/build/outputs/bundle/fullRelease/app-full-release.aab`

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- Google Play –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ APK –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –ò –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä (~3-5 MB –≤–º–µ—Å—Ç–æ 8-10 MB)
- –ù–µ –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ APK –≤—Ä—É—á–Ω—É—é
- **Density optimization** —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ AAB (density splits —É—Å—Ç–∞—Ä–µ–ª–∏)

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: Lite –≤–µ—Ä—Å–∏—è (–µ—â—ë –º–µ–Ω—å—à–µ)
```bash
./gradlew clean
./gradlew assembleLiteRelease
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: APK —Ä–∞–∑–º–µ—Ä–æ–º ~3-4 MB (–Ω–∞ 25% –º–µ–Ω—å—à–µ Full)

---

## üì¶ –°–û–ó–î–ê–ù–ù–´–ï APK

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ Full Release:

| APK | –†–∞–∑–º–µ—Ä | –î–ª—è –∫–æ–≥–æ |
|-----|--------|----------|
| `app-full-arm64-v8a-release.apk` | ~5-6 MB | ‚≠ê –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (90%) |
| `app-full-armeabi-v7a-release.apk` | ~5 MB | –°—Ç–∞—Ä—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (8%) |
| `app-full-x86_64-release.apk` | ~5.5 MB | –≠–º—É–ª—è—Ç–æ—Ä—ã, –ø–ª–∞–Ω—à–µ—Ç—ã (2%) |
| `app-full-universal-release.apk` | ~8 MB | –†–µ–∑–µ—Ä–≤–Ω—ã–π –¥–ª—è –≤—Å–µ—Ö |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: Density splits —É—Å—Ç–∞—Ä–µ–ª–∏. –î–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–æ –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ AAB.

---

## üìä –ü–†–û–í–ï–†–ö–ê –†–ê–ó–ú–ï–†–û–í

### PowerShell:
```powershell
ls app\build\outputs\apk\full\release\*.apk | Select Name, @{N='Size(MB)';E={[math]::Round($_.Length/1MB,2)}} | Sort Size | Format-Table
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —ç–∫–æ–Ω–æ–º–∏–∏:
```powershell
$universal = (Get-Item "app\build\outputs\apk\full\release\app-full-universal-release.apk").Length
$optimized = (Get-Item "app\build\outputs\apk\full\release\app-full-arm64-v8a-release.apk").Length
$savings = [math]::Round(($universal - $optimized) / $universal * 100, 1)
Write-Host "–≠–∫–æ–Ω–æ–º–∏—è: $savings% (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π vs —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π)"
```

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –ù–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π APK
adb install app/build/outputs/apk/full/release/app-full-arm64-v8a-release.apk
```

### –ù–∞ —ç–º—É–ª—è—Ç–æ—Ä–µ:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å x86_64 –≤–∞—Ä–∏–∞–Ω—Ç
adb install app/build/outputs/apk/full/release/app-full-x86_64-release.apk
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- [ ] –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- [ ] SplashScreen
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç—ã
- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–æ–≤
- [ ] –ü–æ–∏—Å–∫
- [ ] –§–∏–ª—å—Ç—Ä—ã
- [ ] –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∏

---

## üì± –ü–£–ë–õ–ò–ö–ê–¶–ò–Ø

### –î–ª—è Google Play Console:

1. **–ó–∞–≥—Ä—É–∑–∏—Ç—å AAB** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
   ```
   app/build/outputs/bundle/fullRelease/app-full-release.aab
   ```

2. **–ò–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ APK**:
   - –û—Å–Ω–æ–≤–Ω—ã–µ: arm64-v8a, armeabi-v7a
   - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: x86_64, universal

### –î–ª—è –ø—Ä—è–º–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- `app-full-arm64-v8a-release.apk` - –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- `app-full-universal-release.apk` - –µ—Å–ª–∏ –Ω–µ —É–≤–µ—Ä–µ–Ω—ã

---

## üéØ –î–û–°–¢–ò–ì–ù–£–¢–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–≠—Ç–∞–ø—ã 1-5):

‚úÖ **–≠—Ç–∞–ø 1-2**: –£–¥–∞–ª–µ–Ω–∏–µ –º—É—Å–æ—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (~1 MB)  
‚úÖ **–≠—Ç–∞–ø 3**: –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (~1.7 MB)  
‚úÖ **–≠—Ç–∞–ø 4**: –†–µ—Å—É—Ä—Å—ã –∏ JSON (~15-200 KB)  
‚úÖ **–≠—Ç–∞–ø 5**: ProGuard + Splits (~40-50% —Ä–∞–∑–º–µ—Ä–∞)

### –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã:

| –í–µ—Ä—Å–∏—è | –ë—ã–ª–æ | –°—Ç–∞–ª–æ | –≠–∫–æ–Ω–æ–º–∏—è |
|--------|------|-------|----------|
| Full Universal | ~8-10 MB | ~8 MB | ~20% (ProGuard) |
| Full ABI Split (arm64) | ~8-10 MB | ~5-6 MB | **~35%** ‚≠ê‚≠ê |
| **Full AAB (Google Play)** | ~8-10 MB | **~3-5 MB** | **~50-60%** ‚≠ê‚≠ê‚≠ê |
| **Lite AAB (Google Play)** | ~8-10 MB | **~2.5-4 MB** | **~60-70%** ‚≠ê‚≠ê‚≠ê |

---

## üõ†Ô∏è –ï–°–õ–ò –ß–¢–û-–¢–û –ù–ï –¢–ê–ö

### –û—Ç–∫–ª—é—á–∏—Ç—å Splits:
–í `app/build.gradle.kts` —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:
```kotlin
splits {
    abi {
        isEnable = false
    }
    density {
        isEnable = false
    }
}
```

### –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å—Ç–∞—Ä–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
```bash
git checkout HEAD -- app/build.gradle.kts
git checkout HEAD -- app/proguard-rules.pro
```

---

## üìö –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ `Docs/Optimizations/`:
- `STEP5_BUILD_OPTIMIZATION.md` - –¥–µ—Ç–∞–ª–∏ —ç—Ç–∞–ø–∞ 5
- `STAGE5_COMPLETION_SUMMARY.md` - —Å–≤–æ–¥–∫–∞ –ø–æ —ç—Ç–∞–ø—É 5
- `OPTIMIZATION_PROGRESS.md` - –æ–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å
- `EXECUTE_NOW.md` - –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –≤—Å–µ–º —ç—Ç–∞–ø–∞–º

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –°–ë–û–†–ö–ò

- [ ] –í—ã–ø–æ–ª–Ω–∏—Ç—å `./gradlew clean`
- [ ] –í—ã–ø–æ–ª–Ω–∏—Ç—å `./gradlew assembleFullRelease`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã APK
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏
- [ ] –ò–∑–º–µ—Ä–∏—Ç—å —ç–∫–æ–Ω–æ–º–∏—é —Ä–∞–∑–º–µ—Ä–∞
- [ ] –ó–∞–ø–∏—Å–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ OPTIMIZATION_PROGRESS.md
- [ ] –°–¥–µ–ª–∞—Ç—å git commit

---

**–ì–æ—Ç–æ–≤–æ –∫ —Å–±–æ—Ä–∫–µ! –£–¥–∞—á–∏! üöÄ**

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: APK —É–º–µ–Ω—å—à–µ–Ω –Ω–∞ 40-60% üéâ
