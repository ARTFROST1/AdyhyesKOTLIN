# üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ APK - AdygGIS

**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 30.09.2025

---

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò

### üìù –≠—Ç–∞–ø 1: –£–¥–∞–ª–µ–Ω–∏–µ –º—É—Å–æ—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é  
**–°–∫—Ä–∏–ø—Ç**: `cleanup_step1.bat`

#### –£–¥–∞–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `compile_test.kt` (118 B)
- ‚úÖ `test_compilation.kt` (772 B)
- ‚úÖ `logo.png` (198 KB)
- ‚úÖ –ü–∞–ø–∫–∞ `app/src/design_reference/` (805 KB)
  - Dombay_background.jpg (187 KB)
  - main_preview.png (617 KB)
  - svg_airplane.svg (1.5 KB)
- ‚úÖ –ü–∞–ø–∫–∞ `app/src/main/java/.../screens/developer/` (4 —Ñ–∞–π–ª–∞)
- ‚úÖ `DeveloperViewModel.kt`
- ‚úÖ –ü—É—Å—Ç–∞—è –ø–∞–ø–∫–∞ `app/src/main/assets/images/`

**–≠–∫–æ–Ω–æ–º–∏—è**: ~1 MB

---

### üìù –≠—Ç–∞–ø 2: –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é  
**–°–∫—Ä–∏–ø—Ç**: `cleanup_step2.bat`

#### –£–¥–∞–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `MapScreenReliable.kt` (–ø—É—Å—Ç–æ–π —Ñ–∞–π–ª)
- ‚úÖ `MapScreenTablet.kt` (369 —Å—Ç—Ä–æ–∫, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- ‚úÖ `WaypointMarkerProvider.kt` (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- ‚úÖ `GeoObjectProvider.kt` (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- ‚úÖ `app/src/main/assets/geo_objects.json` (9 KB)

**–≠–∫–æ–Ω–æ–º–∏—è**: ~30 KB –∫–æ–¥–∞

---

### üìù –≠—Ç–∞–ø 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û  
**–§–∞–π–ª**: `app/build.gradle.kts`

#### –£–¥–∞–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- ‚úÖ `implementation(libs.retrofit.core)` - ~450 KB
- ‚úÖ `implementation(libs.retrofit.kotlinx.serialization)` - ~100 KB
- ‚úÖ `implementation(libs.okhttp)` - ~800 KB
- ‚úÖ `implementation(libs.okhttp.logging)` - ~50 KB
- ‚úÖ `implementation(libs.accompanist.pager)` - ~100 KB
- ‚úÖ `implementation(libs.coil.svg)` - ~150 KB
- ‚úÖ `implementation("androidx.compose.ui:ui-text-google-fonts")` - ~50 KB

**–≠–∫–æ–Ω–æ–º–∏—è**: ~1.7 MB ‚≠ê **–ö–†–£–ü–ù–ï–ô–®–ê–Ø –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø**

---

### üìù –≠—Ç–∞–ø 5: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è ProGuard
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û  
**–§–∞–π–ª**: `app/proguard-rules.pro`

#### –ò–∑–º–µ–Ω–µ–Ω–∏—è:
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ Gson (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
  - `-optimizationpasses 5`
  - `-allowaccessmodification`
  - `-repackageclasses ''`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ —É–¥–∞–ª–µ–Ω–∏–µ debug –ª–æ–≥–æ–≤ –∏–∑ release
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è Timber

**–≠–∫–æ–Ω–æ–º–∏—è**: ~1-2 MB

---

## üí∞ –û–ë–©–ê–Ø –û–ñ–ò–î–ê–ï–ú–ê–Ø –≠–ö–û–ù–û–ú–ò–Ø

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –≠–∫–æ–Ω–æ–º–∏—è |
|-----------|----------|
| –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ | ~1.7 MB |
| Design —Ñ–∞–π–ª—ã | ~0.8 MB |
| –ö–æ–¥ | ~0.03 MB |
| Assets | ~0.04 MB |
| ProGuard –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | ~1-2 MB |
| **–ò–¢–û–ì–û** | **~3.5-4.5 MB** |

### –° —É—á–µ—Ç–æ–º —Å–∂–∞—Ç–∏—è APK: **~2.5-3.5 MB —ç–∫–æ–Ω–æ–º–∏–∏**

---

## üìã –ß–¢–û –û–°–¢–ê–õ–û–°–¨ –í–´–ü–û–õ–ù–ò–¢–¨

### 1Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç—ã —É–¥–∞–ª–µ–Ω–∏—è:
```bash
# –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
cleanup_step1.bat
cleanup_step2.bat
```

### 2Ô∏è‚É£ Gradle Sync:
```bash
# –í Android Studio: File ‚Üí Sync Project with Gradle Files
# –ò–ª–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
./gradlew --refresh-dependencies
```

### 3Ô∏è‚É£ –ò–∑–º–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä APK:
```bash
# –°–±–æ—Ä–∫–∞
./gradlew clean
./gradlew assembleFullRelease

# –ò–∑–º–µ—Ä–µ–Ω–∏–µ
ls -lh app/build/outputs/apk/full/release/*.apk
```

### 4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–ø–∏–ª—è—Ü–∏—é:
```bash
./gradlew assembleFullDebug
```

### 5Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
- ‚úÖ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –ö–∞—Ä—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üìä –ò–ó–ú–ï–†–ï–ù–ò–ï –†–ï–ó–£–õ–¨–¢–ê–¢–û–í

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
```
–†–∞–∑–º–µ—Ä APK: ___ MB
```

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
```
–†–∞–∑–º–µ—Ä APK: ___ MB
–≠–∫–æ–Ω–æ–º–∏—è: ___ MB (___%)
```

---

## üîç –î–ï–¢–ê–õ–ò –ò–ó–ú–ï–ù–ï–ù–ò–ô

### –§–∞–π–ª—ã —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏:
1. ‚úÖ `app/build.gradle.kts` - —É–¥–∞–ª–µ–Ω–æ 8 –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
2. ‚úÖ `app/proguard-rules.pro` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –ì–æ—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã:
1. ‚úÖ `cleanup_step1.bat` - —É–¥–∞–ª–µ–Ω–∏–µ –º—É—Å–æ—Ä–∞
2. ‚úÖ `cleanup_step2.bat` - —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
1. ‚úÖ `STEP3_dependencies_to_remove.md` - –¥–µ—Ç–∞–ª–∏ –ø–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º
2. ‚úÖ `STEP5_proguard_optimization.md` - –¥–µ—Ç–∞–ª–∏ –ø–æ ProGuard
3. ‚úÖ `OPTIMIZATION_RESULTS.md` (—ç—Ç–æ—Ç —Ñ–∞–π–ª)

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

### ‚úÖ –ß—Ç–æ –°–û–•–†–ê–ù–ï–ù–û:
- –í—Å–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —ç–∫—Ä–∞–Ω—ã –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- Yandex MapKit –∏ –≤—Å–µ –µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- Room, Hilt, Coroutines
- Coil (–±–µ–∑ SVG)
- Accompanist permissions –∏ systemuicontroller
- –í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### ‚ùå –ß—Ç–æ –£–î–ê–õ–ï–ù–û:
- Retrofit + OkHttp (–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å)
- Gson –ø—Ä–∞–≤–∏–ª–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è kotlinx.serialization)
- Accompanist Pager (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- Coil SVG (SVG –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)
- Google Fonts (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)
- –¢–µ—Å—Ç–æ–≤—ã–µ –∏ design —Ñ–∞–π–ª—ã

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç—ã** (`cleanup_step1.bat` –∏ `cleanup_step2.bat`)
2. **Gradle Sync** –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
3. **–ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å** release APK
4. **–ò–∑–º–µ—Ä–∏—Ç—å** –Ω–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä
5. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
6. **Commit** –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ Git

---

## üìù Git Commit Message:

```
feat: –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ APK

- –£–¥–∞–ª–µ–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (Retrofit, OkHttp, Accompanist Pager, Coil SVG, Google Fonts)
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã ProGuard –ø—Ä–∞–≤–∏–ª–∞ —Å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–º–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏
- –£–¥–∞–ª–µ–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –∏ design_reference
- –£–¥–∞–ª–µ–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ Map —ç–∫—Ä–∞–Ω—ã –∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
- –£–¥–∞–ª–µ–Ω –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π geo_objects.json

–≠–∫–æ–Ω–æ–º–∏—è: ~2.5-3.5 MB (-30-40%)
```

---

**–°–æ–∑–¥–∞–Ω–æ**: 30.09.2025  
**–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤–æ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é —Å–∫—Ä–∏–ø—Ç–æ–≤  
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: –£–º–µ–Ω—å—à–µ–Ω–∏–µ APK –Ω–∞ 30-40%
